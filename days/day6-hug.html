<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 6 - Hug Day | Valentine's Week 2026</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            background: linear-gradient(to bottom, #1a0a0f 0%, #2a0a1f 50%, #1a0515 100%);
            min-height: 100vh;
            color: #d4af37;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated warm particles */
        .warm-particles {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.6) 0%, rgba(212, 175, 55, 0.3) 100%);
            border-radius: 50%;
            animation: float-up 10s infinite;
            opacity: 0;
        }

        .container {
            position: relative;
            z-index: 2;
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 1s ease;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            color: #d4af37;
            margin-bottom: 15px;
            font-weight: 700;
            text-shadow: 2px 2px 8px rgba(212, 175, 55, 0.3);
        }

        .date-badge {
            display: inline-block;
            background: rgba(212, 175, 55, 0.2);
            padding: 10px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            margin-bottom: 15px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }

        .subtitle {
            font-size: 1.4rem;
            color: rgba(212, 175, 55, 0.8);
            margin-bottom: 10px;
            font-style: italic;
        }

        .content-section {
            background: rgba(20, 10, 15, 0.6);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            animation: fadeInUp 0.8s ease;
        }

        .content-section h2 {
            font-family: 'Playfair Display', serif;
            color: #d4af37;
            font-size: 2rem;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .content-section p {
            line-height: 1.9;
            font-size: 1.2rem;
            color: rgba(212, 175, 55, 0.85);
            margin-bottom: 20px;
        }

        .message-card {
            background: rgba(212, 175, 55, 0.1);
            border-left: 4px solid rgba(212, 175, 55, 0.5);
            padding: 25px;
            margin: 25px 0;
            border-radius: 10px;
            font-style: italic;
        }

        .message-card p {
            font-size: 1.25rem;
            color: rgba(212, 175, 55, 0.9);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .polaroid-section {
            background: rgba(20, 10, 15, 0.6);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .polaroid-section h2 {
            font-family: 'Playfair Display', serif;
            color: #d4af37;
            font-size: 2rem;
            margin-bottom: 30px;
            text-align: center;
        }

        .polaroid-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }

        .polaroid {
            background: #fff;
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            transform: rotate(-2deg);
            transition: transform 0.3s ease;
        }

        .polaroid:hover {
            transform: rotate(0deg) scale(1.05);
        }

        .polaroid-image {
            width: 300px;
            height: 300px;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(212, 175, 55, 0.4));
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(212, 175, 55, 0.6);
            font-size: 3rem;
            border: 1px solid #ddd;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .polaroid-image:hover::after {
            content: 'ðŸ“· Click to upload';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            font-family: 'Cormorant Garamond', serif;
        }

        .polaroid-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .polaroid-caption {
            padding: 15px 0 0 0;
            text-align: center;
            font-family: 'Cormorant Garamond', serif;
            color: #333;
            font-size: 1rem;
        }

        .polaroid-date {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }

        .love-quote {
            text-align: center;
            font-style: italic;
            color: rgba(212, 175, 55, 0.9);
            font-size: 1.2rem;
            margin-top: 30px;
            padding: 20px;
            border-top: 1px solid rgba(212, 175, 55, 0.3);
        }

        .gallery-section {
            background: rgba(20, 10, 15, 0.6);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .gallery-section h2 {
            font-family: 'Playfair Display', serif;
            color: #d4af37;
            font-size: 2rem;
            margin-bottom: 30px;
            text-align: center;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .photo-frame {
            position: relative;
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.3), rgba(101, 67, 33, 0.3));
            border: 3px solid rgba(212, 175, 55, 0.4);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5), inset 0 0 20px rgba(212, 175, 55, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .photo-frame:hover {
            transform: translateY(-5px) rotate(1deg);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.3), inset 0 0 30px rgba(212, 175, 55, 0.2);
        }

        .photo-placeholder {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.15), rgba(212, 175, 55, 0.3));
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(212, 175, 55, 0.5);
            font-size: 2.5rem;
            border-radius: 5px;
            border: 1px dashed rgba(212, 175, 55, 0.3);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .photo-placeholder:hover::after {
            content: 'ðŸ“· Click to upload';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            font-family: 'Cormorant Garamond', serif;
        }

        .photo-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .photo-frame.has-photo .photo-placeholder {
            background: none;
            border: none;
            padding: 0;
        }

        .photo-frame.has-photo:hover .change-btn {
            opacity: 1;
        }

        .change-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(212, 175, 55, 0.9);
            color: #1a0a0f;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Cormorant Garamond', serif;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 10;
        }

        .change-btn:hover {
            background: rgba(212, 175, 55, 1);
        }

        /* Crop modal */
        .crop-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            align-items: center;
            justify-content: center;
        }

        .crop-modal.active {
            display: flex;
        }

        .crop-container {
            max-width: 90%;
            max-height: 80%;
            background: white;
            padding: 20px;
            border-radius: 10px;
            position: relative;
        }

        .crop-container img {
            max-width: 100%;
            max-height: 60vh;
        }

        .crop-controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .crop-controls button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1rem;
            transition: background 0.3s ease;
        }

        .crop-controls .btn-save {
            background: rgba(212, 175, 55, 0.9);
            color: #1a0a0f;
        }

        .crop-controls .btn-save:hover {
            background: rgba(212, 175, 55, 1);
        }

        .crop-controls .btn-cancel {
            background: #666;
            color: white;
        }

        .crop-controls .btn-cancel:hover {
            background: #444;
        }

        .frame-label {
            text-align: center;
            margin-top: 10px;
            font-family: 'Cormorant Garamond', serif;
            color: #d4af37;
            font-size: 0.9rem;
            font-style: italic;
        }

        /* Hug Animation Area */
        .hug-animation-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 400px;
            margin: 60px auto;
            perspective: 1000px;
        }

        .hug-stage {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 100px;
        }

        .hug-figure {
            position: relative;
            width: 120px;
            height: 120px;
            transition: all 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .hug-figure.left {
            animation: heartbeat 1.5s infinite;
        }

        .hug-figure.right {
            animation: heartbeat 1.5s infinite 0.75s;
        }

        .hug-figure.hugging {
            transform: scale(1.2);
        }

        .hug-stage.active .hug-figure.left {
            transform: translateX(60px);
        }

        .hug-stage.active .hug-figure.right {
            transform: translateX(-60px);
        }

        .heart-emoji {
            font-size: 120px;
            display: block;
            filter: drop-shadow(0 10px 20px rgba(255, 107, 53, 0.3));
        }

        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            25% {
                transform: scale(1.1);
            }
            50% {
                transform: scale(1);
            }
        }

        /* Heart particles during hug */
        .hug-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            display: none;
        }

        .hug-particles.active {
            display: block;
        }

        .hug-particle {
            position: absolute;
            font-size: 30px;
            animation: float-away 2s forwards;
            opacity: 0;
        }

        @keyframes float-away {
            0% {
                transform: translate(0, 0) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            100% {
                transform: translate(var(--x), var(--y)) scale(1);
                opacity: 0;
            }
        }

        /* Send a Hug Button */
        .hug-button-container {
            text-align: center;
            margin: 80px 0;
        }

        .send-hug-button {
            position: relative;
            padding: 20px 60px;
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            color: #fff;
            background: linear-gradient(135deg, #FF6B35 0%, #FF9068 100%);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(255, 107, 53, 0.4);
            transition: all 0.3s ease;
            touch-action: manipulation;
        }

        .send-hug-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 53, 0.5);
        }

        .send-hug-button:active {
            transform: translateY(-1px);
        }

        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.6);
            transform: scale(0);
            animation: ripple-effect 0.8s ease-out;
            pointer-events: none;
        }

        @keyframes ripple-effect {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* Heartbeat Sync Section */
        .heartbeat-section {
            text-align: center;
            margin: 80px 0;
        }

        .heartbeat-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            color: #C41E3A;
            margin-bottom: 40px;
        }

        .heartbeat-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 60px;
            flex-wrap: wrap;
        }

        .heartbeat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .pulsing-heart {
            font-size: 100px;
            animation: pulse-sync 1.2s infinite;
        }

        .heartbeat-item:nth-child(2) .pulsing-heart {
            animation-delay: 0.1s;
        }

        @keyframes pulse-sync {
            0%, 100% {
                transform: scale(1);
                filter: drop-shadow(0 0 10px rgba(255, 107, 53, 0.3));
            }
            15% {
                transform: scale(1.3);
                filter: drop-shadow(0 0 30px rgba(255, 107, 53, 0.8));
            }
            30% {
                transform: scale(1);
                filter: drop-shadow(0 0 10px rgba(255, 107, 53, 0.3));
            }
        }

        .heartbeat-label {
            font-family: 'Inter', sans-serif;
            font-size: 1.2rem;
            color: #8B3A3A;
            font-weight: 600;
        }

        .heartbeat-rate {
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            color: #FF6B35;
        }

        /* Message Section */
        .message-section {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 30px;
            padding: 60px 40px;
            margin: 60px auto;
            max-width: 800px;
            box-shadow: 0 20px 60px rgba(255, 107, 53, 0.2);
        }

        .message-section h2 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 5vw, 3rem);
            color: #C41E3A;
            text-align: center;
            margin-bottom: 30px;
        }

        .message-section p {
            font-family: 'Inter', sans-serif;
            font-size: clamp(1.1rem, 2.5vw, 1.3rem);
            line-height: 1.8;
            color: #4A1C1C;
            text-align: center;
            margin-bottom: 20px;
        }

        /* Music Player Placeholder */
        .music-player {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin: 60px auto;
            max-width: 500px;
            box-shadow: 0 10px 40px rgba(255, 107, 53, 0.2);
        }

        .music-player h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: #C41E3A;
            text-align: center;
            margin-bottom: 20px;
        }

        .music-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .music-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, #FF6B35 0%, #FF9068 100%);
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }

        .music-button:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(255, 107, 53, 0.4);
        }

        .music-note {
            text-align: center;
            color: #8B3A3A;
            font-style: italic;
            margin-top: 15px;
            font-size: 0.9rem;
        }

        /* Temperature Display */
        .temperature-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px 30px;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(255, 107, 53, 0.3);
            text-align: center;
            z-index: 100;
        }

        .temp-value {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: #FF6B35;
            font-weight: 700;
        }

        .temp-label {
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            color: #8B3A3A;
            margin-top: 5px;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }

            .content-section {
                padding: 25px;
            }

            .content-section h2 {
                font-size: 1.6rem;
            }

            .content-section p,
            .message-card p {
                font-size: 1.1rem;
            }

            .hug-stage {
                gap: 60px;
            }

            .hug-figure {
                width: 80px;
                height: 80px;
            }

            .heart-emoji {
                font-size: 80px;
            }

            .hug-stage.active .hug-figure.left {
                transform: translateX(40px);
            }

            .hug-stage.active .hug-figure.right {
                transform: translateX(-40px);
            }
        }
    </style>
</head>
<body>
    <!-- Warm Particles Background -->
    <div class="warm-particles" id="warmParticles"></div>

    <div class="container">
        <header>
            <div class="date-badge">February 12, 2026</div>
            <h1>Hug Day</h1>
            <p class="subtitle">Warmth, Comfort & Embrace</p>
        </header>

        <div class="content-section">
            <h2>The Warmth of Ur Embrace</h2>
            <p>
                In ur arms, I find my home. A place where warmth meets comfort, where two hearts beat as one.
                Every hug from u is a reminder that distance means nothing when hearts are connected.
            </p>
            <p>
                Even though we're miles apart, I feel ur warmth surrounding me, protecting me, loving me.
                This Hug Day, I'm sending u all the warmth my heart can hold.
            </p>
        </div>

        <!-- Hug Animation -->
        <div class="hug-animation-container">
            <div class="hug-stage" id="hugStage">
                <div class="hug-figure left">
                    <span class="heart-emoji">â™¥</span>
                </div>
                <div class="hug-figure right">
                    <span class="heart-emoji">â™¡</span>
                </div>
            </div>
            <div class="hug-particles" id="hugParticles"></div>
        </div>

        <!-- Send a Hug Button -->
        <div class="hug-button-container">
            <button class="send-hug-button" id="sendHugButton">
                Send a Warm Hug
            </button>
        </div>

        <!-- Heartbeat Sync Section -->
        <section class="heartbeat-section">
            <h2 class="heartbeat-title">Hearts Beating as One</h2>
            <div class="heartbeat-display">
                <div class="heartbeat-item">
                    <div class="pulsing-heart">â™¥</div>
                    <div class="heartbeat-label">Ur Heart</div>
                    <div class="heartbeat-rate">72 BPM</div>
                </div>
                <div class="heartbeat-item">
                    <div class="pulsing-heart">â™¥</div>
                    <div class="heartbeat-label">My Heart</div>
                    <div class="heartbeat-rate">72 BPM</div>
                </div>
            </div>
        </section>

        <!-- Message Section -->
        <section class="content-section">
            <h2>Hearts Beating as One</h2>
            <div class="message-card">
                <p>
                    In ur hug, I found my safe haven, the warmest place on earth.
                    Every embrace brings us closer, even when the world tries to keep us apart.
                </p>
            </div>
            <p>
                Until we can be together again, I carry ur warmth with me. They remind me that true love 
                isn't measured by proximity, but by the depth of connection that even distance cannot diminish.
            </p>
        </section>

        <div class="polaroid-section">
            <h2>Captured Moment</h2>
            <div class="polaroid-container">
                <div class="polaroid">
                    <div class="polaroid-image" id="polaroid-image" onclick="uploadPhoto('polaroid')">[Photo]</div>
                    <div class="polaroid-caption">
                        Hug Day 2026
                        <div class="polaroid-date">February 12, 2026 â€¢ Embracing Love</div>
                    </div>
                </div>
            </div>
            <div class="love-quote" id="loveQuote">
                "A hug is worth a thousand words, and ur embrace is my favorite story."
            </div>
        </div>

        <div class="gallery-section">
            <h2>Magical Memory Gallery</h2>
            <p style="text-align: center; color: rgba(212, 175, 55, 0.8); margin-bottom: 20px;">
                Our enchanted collection of moments, waiting to be filled with love
            </p>
            <div class="gallery-grid">
                <div class="photo-frame" id="frame-0">
                    <button class="change-btn" onclick="uploadPhoto('gallery-0')" style="display: none;">Change</button>
                    <div class="photo-placeholder" onclick="uploadPhoto('gallery-0')">[Photo]</div>
                    <div class="frame-label">Memory 1</div>
                </div>
                <div class="photo-frame" id="frame-1">
                    <button class="change-btn" onclick="uploadPhoto('gallery-1')" style="display: none;">Change</button>
                    <div class="photo-placeholder" onclick="uploadPhoto('gallery-1')">[Photo]</div>
                    <div class="frame-label">Memory 2</div>
                </div>
                <div class="photo-frame" id="frame-2">
                    <button class="change-btn" onclick="uploadPhoto('gallery-2')" style="display: none;">Change</button>
                    <div class="photo-placeholder" onclick="uploadPhoto('gallery-2')">[Photo]</div>
                    <div class="frame-label">Memory 3</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Photo upload and cropping functionality
        let cropper = null;
        let currentTarget = null;
        const fileInput = document.getElementById('fileInput');
        const cropModal = document.getElementById('cropModal');
        const cropImage = document.getElementById('cropImage');

        function uploadPhoto(target) {
            currentTarget = target;
            fileInput.click();
        }

        fileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    cropImage.src = event.target.result;
                    cropModal.classList.add('active');
                    
                    // Initialize cropper
                    if (cropper) {
                        cropper.destroy();
                    }
                    
                    const aspectRatio = currentTarget === 'polaroid' ? 1 : 3/4;
                    cropper = new Cropper(cropImage, {
                        aspectRatio: aspectRatio,
                        viewMode: 1,
                        autoCropArea: 1,
                        responsive: true,
                        background: false
                    });
                };
                reader.readAsDataURL(file);
            }
            fileInput.value = ''; // Reset input
        });

        function saveCroppedImage() {
            if (cropper) {
                const canvas = cropper.getCroppedCanvas({
                    maxWidth: 800,
                    maxHeight: 800
                });
                
                canvas.toBlob(function(blob) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imageData = e.target.result;
                        
                        // Save to localStorage
                        localStorage.setItem(`day6-${currentTarget}`, imageData);
                        
                        // Display image
                        displayImage(currentTarget, imageData);
                        
                        // Close modal
                        cancelCrop();
                    };
                    reader.readAsDataURL(blob);
                }, 'image/jpeg', 0.9);
            }
        }

        function cancelCrop() {
            cropModal.classList.remove('active');
            if (cropper) {
                cropper.destroy();
                cropper = null;
            }
        }

        function displayImage(target, imageData) {
            if (target === 'polaroid') {
                const polaroidImage = document.getElementById('polaroid-image');
                polaroidImage.innerHTML = `<img src="${imageData}" alt="Photo">`;
                polaroidImage.onclick = function() { uploadPhoto('polaroid'); };
            } else {
                // Gallery frame
                const frameIndex = target.split('-')[1];
                const frame = document.getElementById(`frame-${frameIndex}`);
                const placeholder = frame.querySelector('.photo-placeholder');
                placeholder.innerHTML = `<img src="${imageData}" alt="Memory ${parseInt(frameIndex) + 1}">`;
                placeholder.onclick = function() { uploadPhoto(target); };
                
                // Show change button
                const changeBtn = frame.querySelector('.change-btn');
                changeBtn.style.display = 'block';
                frame.classList.add('has-photo');
            }
        }

        function loadSavedPhotos() {
            // Load polaroid
            const polaroidData = localStorage.getItem('day6-polaroid');
            if (polaroidData) {
                displayImage('polaroid', polaroidData);
            }
            
            // Load gallery photos
            for (let i = 0; i < 3; i++) {
                const galleryData = localStorage.getItem(`day6-gallery-${i}`);
                if (galleryData) {
                    displayImage(`gallery-${i}`, galleryData);
                }
            }
        }

        // Load saved photos on page load
        document.addEventListener('DOMContentLoaded', loadSavedPhotos);
        
        // Love quotes for Hug Day
        const loveQuotes = [
            "A hug is worth a thousand words, and ur embrace is my favorite story.",
            "In ur arms, I found my safe haven, my warmest place on earth.",
            "Distance may keep us apart, but our hearts embrace across the miles.",
            "Every hug brings comfort, every embrace brings peace, every moment brings love.",
            "Ur love wraps around me like the warmest, softest hug."
        ];

        function updateLoveQuote() {
            const quoteElement = document.getElementById('loveQuote');
            const randomQuote = loveQuotes[Math.floor(Math.random() * loveQuotes.length)];
            quoteElement.textContent = randomQuote;
        }

        // Update quote every 10 seconds
        setInterval(updateLoveQuote, 10000);

        // Add floating particles animation
        function createParticles() {
            const container = document.body;
            for(let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.width = '4px';
                particle.style.height = '4px';
                particle.style.background = 'radial-gradient(circle, rgba(212, 175, 55, 0.5) 0%, rgba(212, 175, 55, 0.1) 100%)';
                particle.style.borderRadius = '50%';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.bottom = '-10px';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '1';
                particle.style.animation = `float-up ${10 + Math.random() * 10}s infinite`;
                particle.style.animationDelay = Math.random() * 10 + 's';
                container.appendChild(particle);
            }
        }

        // Add CSS animation for particles
        const style = document.createElement('style');
        style.textContent = `
            @keyframes float-up {
                0% { transform: translateY(0) scale(0); opacity: 0; }
                10% { opacity: 1; }
                90% { opacity: 1; }
                100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
        
        createParticles();

        // Hug Animation Functions (keep existing animations)
        function createWarmParticles() {
            const container = document.getElementById('warmParticles');
            const particleCount = 30;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 10 + 's';
                particle.style.animationDuration = (8 + Math.random() * 4) + 's';
                container.appendChild(particle);
            }
        }

        // Automatic Hug Animation
        function triggerHugAnimation() {
            const hugStage = document.getElementById('hugStage');
            const hugParticles = document.getElementById('hugParticles');
            
            hugStage.classList.add('active');
            
            // Create heart particles
            setTimeout(() => {
                hugParticles.classList.add('active');
                for (let i = 0; i < 15; i++) {
                    createHugParticle();
                }
                
                // Remove particles after animation
                setTimeout(() => {
                    hugParticles.classList.remove('active');
                    hugParticles.innerHTML = '';
                }, 2000);
            }, 1000);
            
            // Reset hug animation
            setTimeout(() => {
                hugStage.classList.remove('active');
            }, 4000);
        }

        function createHugParticle() {
            const hugParticles = document.getElementById('hugParticles');
            const particle = document.createElement('div');
            particle.className = 'hug-particle';
            particle.textContent = ['â¤', 'â™¥', 'â™¡', 'â¤', 'â™¥'][Math.floor(Math.random() * 5)];
            
            const angle = Math.random() * Math.PI * 2;
            const distance = 100 + Math.random() * 200;
            const x = Math.cos(angle) * distance;
            const y = Math.sin(angle) * distance;
            
            particle.style.setProperty('--x', x + 'px');
            particle.style.setProperty('--y', y + 'px');
            particle.style.left = '50%';
            particle.style.top = '50%';
            particle.style.animationDelay = Math.random() * 0.5 + 's';
            
            hugParticles.appendChild(particle);
        }

        // Send Hug Button with Ripple Effect
        const sendHugButton = document.getElementById('sendHugButton');
        
        sendHugButton.addEventListener('click', function(e) {
            // Create ripple
            const ripple = document.createElement('span');
            ripple.className = 'ripple';
            
            const rect = this.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;
            
            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            
            this.appendChild(ripple);
            
            // Trigger hug animation
            triggerHugAnimation();
            
            // Remove ripple after animation
            setTimeout(() => ripple.remove(), 800);
        });

        // Touch support for mobile
        sendHugButton.addEventListener('touchstart', function(e) {
            e.preventDefault();
            this.click();
        });

        // Temperature Animation
        function animateTemperature() {
            const tempValue = document.getElementById('tempValue');
            let temp = 98.6;
            let direction = 1;
            
            setInterval(() => {
                temp += direction * 0.1;
                if (temp >= 99.0 || temp <= 98.6) {
                    direction *= -1;
                }
                tempValue.textContent = temp.toFixed(1) + 'Â°';
            }, 500);
        }

        // Periodic automatic hug animation
        function startPeriodicHugs() {
            setInterval(() => {
                triggerHugAnimation();
            }, 10000); // Every 10 seconds
        }

        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            createWarmParticles();
            
            // Initial hug animation after page load
            setTimeout(() => {
                triggerHugAnimation();
            }, 2000);
            
            // Start periodic hugs
            startPeriodicHugs();
        });
    </script>

    <!-- Crop Modal -->
    <div class="crop-modal" id="cropModal">
        <div class="crop-container">
            <img id="cropImage" src="" alt="Crop">
            <div class="crop-controls">
                <button class="btn-save" onclick="saveCroppedImage()">Save</button>
                <button class="btn-cancel" onclick="cancelCrop()">Cancel</button>
            </div>
        </div>
    </div>

    <input type="file" id="fileInput" accept="image/*" style="display: none;">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.js"></script>
</body>
</html>
